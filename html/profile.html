
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Board</title>
    <!-- icone -->
    <link rel="SHORTCUT ICON" href="img/android-chrome-512x512.png">
    <!-- font -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- style -->
    <link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" media="screen,projection" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- navigation -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="home.html"><img src="img/logoW.png" alt="logo" id="logo"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="home.html">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profile.html">Profile <span class="sr-only">(current)</span></a>
        </li>
          </div>
        </li>
      </ul>
    </div>
  </nav>
  <!-- End nav -->
<div class="container bootstrap snippet">
    <div class="row">
  		<div class="col-sm-10"><h1>Profile</h1></div>
    </div>
    <div class="row">
  		<div class="col-sm-3"><!--left col-->
              

      <div class="text-center">
        <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" class="avatar img-circle img-thumbnail" alt="avatar">
        <h6>Upload a different photo...</h6>
        <input type="file" class="text-center center-block file-upload">
      </div><br>
          
        </div><!--/col-3-->
    	<div class="col-sm-9">
            <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
                <li><a data-toggle="tab" href="#settings">Documents</a></li>
              </ul>

          <div class="tab-content">
            <div class="tab-pane active" id="home">
                <hr>
                  <form class="form" action="##" method="post" id="registrationForm">
                      <div class="form-group">
                          
                          <div class="col-xs-6">
                              <label for="first_name"><h4>First name</h4></label>
                              <input type="text" class="form-control" name="first_name" id="first_name" placeholder="first name" title="enter your first name if any.">
                          </div>
                      </div>
                      <div class="form-group">
                          
                          <div class="col-xs-6">
                            <label for="last_name"><h4>Last name</h4></label>
                              <input type="text" class="form-control" name="last_name" id="last_name" placeholder="last name" title="enter your last name if any.">
                          </div>
                      </div>
          
                      <div class="form-group">
                          
                          <div class="col-xs-6">
                              <label for="email"><h4>Email</h4></label>
                              <input type="email" class="form-control" name="email" id="email" placeholder="you@email.com" title="enter your email">
                          </div>
                      </div>
          
                      <div class="form-group">
                          <div class="col-xs-6">
                             <label for="tel"><h4>Tel</h4></label>
                              <input type="tel" class="form-control" name="tel" id="tel" placeholder="enter mobile number" title="enter your mobile number if any.">
                          </div>
                      </div>
                      <div class="form-group">
                          
                          <div class="col-xs-6">
                              <label for="address"><h4>Adress</h4></label>
                              <input type="text" class="form-control" name="address" id="address" placeholder="address" title="enter your address.">
                          </div>
                      </div>
                      <div class="form-group">
                          
                          <div class="col-xs-6">
                              <label for="email"><h4>Zip code</h4></label>
                              <input type="email" class="form-control" id="location" placeholder="somewhere" title="enter a location">
                          </div>
                      </div>
                      <div class="form-group">
                          
                          <div class="col-xs-6">
                              <label for="country"><h4>Country</h4></label>
                              <input type="text" class="form-control" name="country" id="country" placeholder="country" title="enter your country.">
                          </div>
                      </div>
                      <div class="form-group">
                          
                          <div class="col-xs-6">
                            <label for="password2"><h4>Password</h4></label>
                              <input type="password" class="form-control" name="password2" id="password2" placeholder="password2" title="enter your password2.">
                          </div>
                      </div>
                      <div class="form-group">
                           <div class="col-xs-12">
                                <br>
                              	<button class="btn btn-lg btn-success" type="submit"><i class="glyphicon glyphicon-ok-sign"></i> Save</button>
                               	<button class="btn btn-lg" type="reset"><i class="glyphicon glyphicon-repeat"></i> Reset</button>
                            </div>
                      </div>
              	</form>
              
              <hr>
              
             </div><!--/tab-pane-->
             <div class="tab-pane" id="settings">
                    <div class="custom-file">
                        <input type="file" class="custom-file-input" id="cv" required>
                        <label class="custom-file-label" for="cv">Choose file for your CV...</label>
                        <div class="invalid-feedback">Example invalid custom file feedback</div>
                    </div>
                    <div class="custom-file">
                        <input type="file" class="custom-file-input" id="coverLetter" required>
                        <label class="custom-file-label" for="coverLetter">Choose file for your cover letter...</label>
                        <div class="invalid-feedback">Example invalid custom file feedback</div>
                    </div>
              </div><!--/tab-pane-->
          </div><!--/tab-content-->

        </div><!--/col-9-->
    </div><!--/row-->

    <!-- Script to get, send, interact with database. -->
    <script>

        //Event triggering handle
        function form_submit(event) {
            console.log('Form submitted');
            event.preventDefault();

            //Declare var & init
            let pe_email = $('#inputEmail').val();
            let pe_password = $('#inputPassword').val();

            //Data object holder creation
            let req_data_object = {
                pe_email: pe_email,
                pe_password: pe_password
            };

            //Turn our data holder in a string
            let req_data_jsoned = JSON.stringify(req_data_object);

            //Some checkpoints
            console.log(req_data_jsoned);
            //console.log(document.cookie);

            //Core fetch request
            let api_url = "http://localhost:3000/api/login";
            fetch(api_url, {
                method: 'POST',
                body: req_data_jsoned,
                headers: {'content-type': 'application/json'
                            //'Authorization':'Bearer ' + document.cookie
                }
            }).then(function (res) {
                if (res.ok) {
                    return res.json();
                }
                return Promise.reject(res);
<<<<<<< HEAD
=======

            }).then(function (data) {
                console.log(data);
                document.cookie = data.token + ";samesite = lax;secure";
                document.location.href = "html/../home.html";

>>>>>>> bba5f238b8cb84acb4310caccd58cc8d70df8c8c
            }).catch(function (err) {
                $('#login_error').show();
                console.warn(err);
            })
        }
        const form = document.getElementById('login');
        form.addEventListener('submit', form_submit);
    </script>
     <!-- script -->
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
     <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
     <script type="text/javascript" src="js/bootstrap.min.js"></script>
     <script src="js/script.js"></script>
    <script src="js/bg.js"></script>
    <script src="js/profile.js"></script>
</body>
</html>